{"ast":null,"code":"const axios = require('axios');\n\nconst BASE_URL = 'http://localhost:3000';\nconst axiosSvc = {}; // apiSvc.register = (user) => {\n//   console.log('USER...', user);\n//   return fetch(`${BASE_URL}/register`, {\n//     method: 'POST',\n//     mode: 'cors',\n//     // credentials: 'include',\n//     headers: {\n//       'Content-Type': 'application/json',\n//     },\n//     body: JSON.stringify(user),\n//   })\n//     .then((res) => res.text())\n//     .catch((err) => console.log(err));\n// };\n\naxiosSvc.register = user => {\n  return axios.post(`${BASE_URL}/register`, user).then(res => res.data).catch(err => console.log(err));\n};\n\naxiosSvc.login = user => {\n  return axios.post(`${BASE_URL}/login`, user).then(res => res.text()).catch(err => console.log(err));\n}; // apiSvc.login = (user) => {\n//   console.log(user);\n//   return fetch(`${BASE_URL}/login`, {\n//     method: 'POST',\n//     mode: 'cors',\n//     headers: {\n//       'Content-Type': 'application/json',\n//     },\n//     body: JSON.stringify(user),\n//   })\n//     .then((res) => res.text())\n//     .catch((err) => console.log(err));\n// };\n\n\naxiosSvc.profile = tokenReceived => {\n  const authAxios = axios.create({\n    baseUrl: `${BASE_URL}`,\n    headers: {\n      Authorization: `Bearer ${tokenReceived}`\n    }\n  });\n  return authAxios.get(`/me`).then(res => res.data).catch(err => console.log(err));\n};\n\napiSvc.logout = tokenName => {\n  window.localStorage.removeItem(tokenName);\n};\n\nexport default apiSvc;","map":{"version":3,"sources":["/Users/joohoonkim/Documents/CW/auxion/client/src/utils/axiosSvc.js"],"names":["axios","require","BASE_URL","axiosSvc","register","user","post","then","res","data","catch","err","console","log","login","text","profile","tokenReceived","authAxios","create","baseUrl","headers","Authorization","get","apiSvc","logout","tokenName","window","localStorage","removeItem"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AAEA,MAAMC,QAAQ,GAAG,uBAAjB;AAEA,MAAMC,QAAQ,GAAG,EAAjB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,QAAQ,CAACC,QAAT,GAAqBC,IAAD,IAAU;AAC5B,SAAOL,KAAK,CACTM,IADI,CACE,GAAEJ,QAAS,WADb,EACyBG,IADzB,EAEJE,IAFI,CAEEC,GAAD,IAASA,GAAG,CAACC,IAFd,EAGJC,KAHI,CAGGC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAHX,CAAP;AAID,CALD;;AAOAR,QAAQ,CAACW,KAAT,GAAkBT,IAAD,IAAU;AACzB,SAAOL,KAAK,CACTM,IADI,CACE,GAAEJ,QAAS,QADb,EACsBG,IADtB,EAEJE,IAFI,CAEEC,GAAD,IAASA,GAAG,CAACO,IAAJ,EAFV,EAGJL,KAHI,CAGGC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAHX,CAAP;AAID,CALD,C,CAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAR,QAAQ,CAACa,OAAT,GAAoBC,aAAD,IAAmB;AACpC,QAAMC,SAAS,GAAGlB,KAAK,CAACmB,MAAN,CAAa;AAC7BC,IAAAA,OAAO,EAAG,GAAElB,QAAS,EADQ;AAE7BmB,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAG,UAASL,aAAc;AADhC;AAFoB,GAAb,CAAlB;AAMA,SAAOC,SAAS,CACbK,GADI,CACC,KADD,EAEJhB,IAFI,CAEEC,GAAD,IAASA,GAAG,CAACC,IAFd,EAGJC,KAHI,CAGGC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAHX,CAAP;AAID,CAXD;;AAaAa,MAAM,CAACC,MAAP,GAAiBC,SAAD,IAAe;AAC7BC,EAAAA,MAAM,CAACC,YAAP,CAAoBC,UAApB,CAA+BH,SAA/B;AACD,CAFD;;AAIA,eAAeF,MAAf","sourcesContent":["const axios = require('axios');\n\nconst BASE_URL = 'http://localhost:3000';\n\nconst axiosSvc = {};\n\n// apiSvc.register = (user) => {\n//   console.log('USER...', user);\n//   return fetch(`${BASE_URL}/register`, {\n//     method: 'POST',\n//     mode: 'cors',\n//     // credentials: 'include',\n//     headers: {\n//       'Content-Type': 'application/json',\n//     },\n//     body: JSON.stringify(user),\n//   })\n//     .then((res) => res.text())\n//     .catch((err) => console.log(err));\n// };\n\naxiosSvc.register = (user) => {\n  return axios\n    .post(`${BASE_URL}/register`, user)\n    .then((res) => res.data)\n    .catch((err) => console.log(err));\n};\n\naxiosSvc.login = (user) => {\n  return axios\n    .post(`${BASE_URL}/login`, user)\n    .then((res) => res.text())\n    .catch((err) => console.log(err));\n};\n\n// apiSvc.login = (user) => {\n//   console.log(user);\n//   return fetch(`${BASE_URL}/login`, {\n//     method: 'POST',\n//     mode: 'cors',\n//     headers: {\n//       'Content-Type': 'application/json',\n//     },\n//     body: JSON.stringify(user),\n//   })\n//     .then((res) => res.text())\n//     .catch((err) => console.log(err));\n// };\n\naxiosSvc.profile = (tokenReceived) => {\n  const authAxios = axios.create({\n    baseUrl: `${BASE_URL}`,\n    headers: {\n      Authorization: `Bearer ${tokenReceived}`,\n    },\n  });\n  return authAxios\n    .get(`/me`)\n    .then((res) => res.data)\n    .catch((err) => console.log(err));\n};\n\napiSvc.logout = (tokenName) => {\n  window.localStorage.removeItem(tokenName);\n};\n\nexport default apiSvc;\n"]},"metadata":{},"sourceType":"module"}