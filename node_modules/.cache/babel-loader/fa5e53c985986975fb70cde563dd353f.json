{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/joohoonkim/Documents/CW/auxion/client/src/components/editListingTerms.component.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nconst {\n  REACT_APP_SERVER_URL\n} = process.env; //TODO: This component written based on assumption of whole property as a prop.\n\nconst EditListingTerms = props => {\n  _s();\n\n  const [description, setDescription] = useState(props.property.description);\n  const [available, setAvailable] = useState(props.property.available);\n  const [files, setFiles] = useState([]);\n  const {\n    history\n  } = props;\n\n  const handleDescriptionChange = evt => {\n    setDescription(evt.target.value);\n  };\n\n  const handleAvailableChange = evt => {\n    setAvailable(evt.target.checked);\n  }; // const handleAuctionEndTimeChange = (evt) => {\n  //   setAuctionEndTime(evt.target.value);\n  // };\n\n\n  const handlePhotoSelect = evt => {\n    setFiles(Array.from(evt.target.files)); // console.log('EVT.TGT.FILES: ', evt.target.files);\n    // setFilename(evt.target.files[0].name);\n  };\n\n  const handleSubmit = async evt => {\n    evt.preventDefault();\n    const formData = new FormData();\n    formData.append('description', JSON.stringify(description));\n    formData.append('available', JSON.stringify(available)); // formData.append('auctionEndTime', JSON.stringify(auctionEndTime));\n\n    files.forEach(file => formData.append('file[]', file, file.name)); //https://developer.mozilla.org/en-US/docs/Web/API/FormData/append\n    //sticking '[]' at the end for the browser to understand that it is an array (look at the examples part for the above doc. PHP convention but formData standard comes from PHP anyways. It's just like JSON is a convention of JS but used by other languages. Same thing)\n\n    console.log([...formData.entries()]);\n\n    try {\n      const response = await axios.patch(`${REACT_APP_SERVER_URL}/properties/${props.match.params.id}/edit`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          Authorization: localStorage.getItem('accessToken')\n        }\n      });\n      console.log('RESPONSE FOR EDITPROPERTY: ', response);\n      const {\n        _id\n      } = response.data;\n      console.log('_ID HERE: ', _id); // console.log('HISTORY HERE: ', history);\n\n      history.push(`properties/${_id}`);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    /*#__PURE__*/\n    // <div>\n    //   <h2>Property Listing Form</h2>\n    //   <span>Provide property address and Photo</span>\n    _jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"description\",\n          children: \"Description \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: description,\n          onChange: handleDescriptionChange,\n          name: \"description\",\n          id: \"description\",\n          placeholder: \"Enter description\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Available\", /*#__PURE__*/_jsxDEV(\"input\", {\n            value: true,\n            checked: props.property.available === true,\n            onChange: handleAvailablelChange,\n            type: \"radio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Unavailable\", /*#__PURE__*/_jsxDEV(\"input\", {\n            value: false,\n            checked: props.property.available === false,\n            onChange: handleAvailablelChange,\n            type: \"radio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        multiple: true,\n        onChange: handlePhotoSelect,\n        accept: \"image/*\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Submit my edits\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 5\n    }, this) // </div>\n\n  );\n};\n\n_s(EditListingTerms, \"Tq/w27cuHzNtzi6g9R+DTh1XiYw=\");\n\n_c = EditListingTerms;\nexport default EditListingTerms;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditListingTerms\");","map":{"version":3,"sources":["/Users/joohoonkim/Documents/CW/auxion/client/src/components/editListingTerms.component.jsx"],"names":["React","useState","axios","REACT_APP_SERVER_URL","process","env","EditListingTerms","props","description","setDescription","property","available","setAvailable","files","setFiles","history","handleDescriptionChange","evt","target","value","handleAvailableChange","checked","handlePhotoSelect","Array","from","handleSubmit","preventDefault","formData","FormData","append","JSON","stringify","forEach","file","name","console","log","entries","response","patch","match","params","id","headers","Authorization","localStorage","getItem","_id","data","push","err","handleAvailablelChange"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst { REACT_APP_SERVER_URL } = process.env;\n\n//TODO: This component written based on assumption of whole property as a prop.\nconst EditListingTerms = (props) => {\n  const [description, setDescription] = useState(props.property.description);\n  const [available, setAvailable] = useState(props.property.available);\n  const [files, setFiles] = useState([]);\n\n  const { history } = props;\n\n  const handleDescriptionChange = (evt) => {\n    setDescription(evt.target.value);\n  };\n\n  const handleAvailableChange = (evt) => {\n    setAvailable(evt.target.checked);\n  };\n\n  // const handleAuctionEndTimeChange = (evt) => {\n  //   setAuctionEndTime(evt.target.value);\n  // };\n\n  const handlePhotoSelect = (evt) => {\n    setFiles(Array.from(evt.target.files));\n    // console.log('EVT.TGT.FILES: ', evt.target.files);\n    // setFilename(evt.target.files[0].name);\n  };\n\n  const handleSubmit = async (evt) => {\n    evt.preventDefault();\n    const formData = new FormData();\n    formData.append('description', JSON.stringify(description));\n    formData.append('available', JSON.stringify(available));\n    // formData.append('auctionEndTime', JSON.stringify(auctionEndTime));\n\n    files.forEach((file) => formData.append('file[]', file, file.name));\n    //https://developer.mozilla.org/en-US/docs/Web/API/FormData/append\n    //sticking '[]' at the end for the browser to understand that it is an array (look at the examples part for the above doc. PHP convention but formData standard comes from PHP anyways. It's just like JSON is a convention of JS but used by other languages. Same thing)\n    console.log([...formData.entries()]);\n    try {\n      const response = await axios.patch(\n        `${REACT_APP_SERVER_URL}/properties/${props.match.params.id}/edit`,\n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n            Authorization: localStorage.getItem('accessToken'),\n          },\n        }\n      );\n      console.log('RESPONSE FOR EDITPROPERTY: ', response);\n      const { _id } = response.data;\n\n      console.log('_ID HERE: ', _id);\n      // console.log('HISTORY HERE: ', history);\n      history.push(`properties/${_id}`);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    // <div>\n    //   <h2>Property Listing Form</h2>\n    //   <span>Provide property address and Photo</span>\n    <form onSubmit={handleSubmit}>\n      <div>\n        <label htmlFor=\"description\">Description </label>\n        <textarea\n          value={description}\n          onChange={handleDescriptionChange}\n          name=\"description\"\n          id=\"description\"\n          placeholder=\"Enter description\"\n          required\n        />\n      </div>\n      <div>\n        <label>\n          Available\n          <input\n            value={true}\n            checked={props.property.available === true}\n            onChange={handleAvailablelChange}\n            type=\"radio\"\n          />\n        </label>\n        <label>\n          Unavailable\n          <input\n            value={false}\n            checked={props.property.available === false}\n            onChange={handleAvailablelChange}\n            type=\"radio\"\n          />\n        </label>\n      </div>\n\n      {/* <div>\n        <label htmlFor=\"auctionEndTime\">Auction End Time</label>\n        <input\n          type=\"date\"\n          value={auctionEndTime}\n          onChange={handleAuctionEndTimeChange}\n          name=\"auctionEndTime\"\n          id=\"auctionEndTime\"\n          min={new Date().toJSON().slice(0, 10)}\n          required\n        />\n      </div> */}\n      <br />\n      <input\n        type=\"file\"\n        multiple={true}\n        onChange={handlePhotoSelect}\n        accept=\"image/*\"\n      />\n      {/*To enable multiple file uplaod, set multiple attribute to true(Don't do quotes. Wrap true in curly braces) */}\n      {/* <input type=\"submit\" value=\"click\"></input> */}\n      <br />\n      <button>Submit my edits</button>\n    </form>\n    // </div>\n  );\n};\n\nexport default EditListingTerms;\n"]},"metadata":{},"sourceType":"module"}