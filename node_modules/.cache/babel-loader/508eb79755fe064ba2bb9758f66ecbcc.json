{"ast":null,"code":"import _regeneratorRuntime from\"/Users/joohoonkim/Documents/CW/auxion/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/joohoonkim/Documents/CW/auxion/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/joohoonkim/Documents/CW/auxion/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/joohoonkim/Documents/CW/auxion/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/joohoonkim/Documents/CW/auxion/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState}from'react';var REACT_APP_SERVER_URL=process.env.REACT_APP_SERVER_URL;var MakeABid=function MakeABid(props){// console.table('PROPS.LOCATION: ', props.location);\nvar _props$location$state=_slicedToArray(props.location.state,1),bid=_props$location$state[0];var initialState={purchasePrice:(bid===null||bid===void 0?void 0:bid.purchasePrice)||0,//because bid can be undefined, I need to use optional(or conditional) chaining.\ndeposit:(bid===null||bid===void 0?void 0:bid.deposit)||0,dueDiligence:(bid===null||bid===void 0?void 0:bid.dueDiligence)||0,closingDate:new Date((bid===null||bid===void 0?void 0:bid.closingDate)||Date.now()).toJSON().slice(0,10)};var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];// const history = useHistory();\nvar history=props.history;var handleChange=function handleChange(evt){var _evt$target=evt.target,name=_evt$target.name,value=_evt$target.value;setState(function(curState){return _objectSpread(_objectSpread({},curState),{},_defineProperty({},name,value));});};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(evt){var id,res,message,parsedAuction;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:evt.preventDefault();id=props.match.params.id;// const res = await axios.post(`${REACT_APP_SERVER_URL}/register`, user);\n_context.next=4;return fetch(\"\".concat(REACT_APP_SERVER_URL,\"/properties/\").concat(id,\"/bid\"),{method:'PUT',// credentials: 'include',\nmode:'cors',headers:{'Content-Type':'application/json',Authorization:localStorage.getItem('accessToken')},body:JSON.stringify(state)});case 4:res=_context.sent;setState(initialState);if(res.ok){_context.next=13;break;}_context.next=9;return res.text();case 9:message=_context.sent;alert(message);_context.next=18;break;case 13:_context.next=15;return res.json();case 15:parsedAuction=_context.sent;console.log(parsedAuction);history.push(\"/properties/\".concat(id));case 18:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Make a bid\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Purchase Price\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"purchasePrice\",placeholder:\"Put in your purchase price\",value:state.purchasePrice,onChange:handleChange})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Deposit\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"deposit\",placeholder:\"Put in deposit amount you will put up\",value:state.deposit,onChange:handleChange,style:{width:'100%',letterSpacing:'.2rem',height:'2rem',border:'none',borderBottom:'1px solid grey'}})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Due Diligence\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"dueDiligence\",placeholder:\"Number of due diligence days\",value:state.dueDiligence,onChange:handleChange,style:{width:'100%',letterSpacing:'.2rem',height:'2rem',border:'none',borderBottom:'1px solid grey'}})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Closing Date\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"closingDate\",value:state.closingDate,onChange:handleChange,style:{width:'100%',letterSpacing:'.3rem',height:'2rem',border:'none',borderBottom:'1px solid grey'}})]}),/*#__PURE__*/_jsx(\"button\",{children:\"Place my bid!\"})]})]});};export default MakeABid;","map":{"version":3,"sources":["/Users/joohoonkim/Documents/CW/auxion/client/src/components/makeABid.component.jsx"],"names":["React","useState","REACT_APP_SERVER_URL","process","env","MakeABid","props","location","state","bid","initialState","purchasePrice","deposit","dueDiligence","closingDate","Date","now","toJSON","slice","setState","history","handleChange","evt","target","name","value","curState","handleSubmit","preventDefault","id","match","params","fetch","method","mode","headers","Authorization","localStorage","getItem","body","JSON","stringify","res","ok","text","message","alert","json","parsedAuction","console","log","push","width","letterSpacing","height","border","borderBottom"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\n\nconst REACT_APP_SERVER_URL = process.env.REACT_APP_SERVER_URL;\n\nconst MakeABid = (props) => {\n  // console.table('PROPS.LOCATION: ', props.location);\n  const [bid] = props.location.state;\n  const initialState = {\n    purchasePrice: bid?.purchasePrice || 0, //because bid can be undefined, I need to use optional(or conditional) chaining.\n    deposit: bid?.deposit || 0,\n    dueDiligence: bid?.dueDiligence || 0,\n    closingDate: new Date(bid?.closingDate || Date.now()).toJSON().slice(0, 10),\n  };\n  const [state, setState] = useState(initialState);\n  // const history = useHistory();\n  const { history } = props;\n\n  const handleChange = (evt) => {\n    const { name, value } = evt.target;\n    setState((curState) => ({ ...curState, [name]: value }));\n  };\n\n  const handleSubmit = async (evt) => {\n    evt.preventDefault();\n\n    const { id } = props.match.params;\n    // const res = await axios.post(`${REACT_APP_SERVER_URL}/register`, user);\n    const res = await fetch(`${REACT_APP_SERVER_URL}/properties/${id}/bid`, {\n      method: 'PUT',\n      // credentials: 'include',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('accessToken'),\n      },\n      body: JSON.stringify(state),\n    });\n\n    setState(initialState);\n    if (!res.ok) {\n      const message = await res.text();\n      alert(message);\n    } else {\n      const parsedAuction = await res.json();\n      console.log(parsedAuction);\n      history.push(`/properties/${id}`);\n    }\n  };\n\n  return (\n    <div>\n      <h2>Make a bid</h2>\n      <form className=\"form\" onSubmit={handleSubmit}>\n        <div>\n          <label>\n            Purchase Price\n            <input\n              type=\"number\"\n              name=\"purchasePrice\"\n              placeholder=\"Put in your purchase price\"\n              value={state.purchasePrice}\n              onChange={handleChange}\n            />\n          </label>\n        </div>\n        <div>\n          <label>\n            Deposit\n            <input\n              type=\"number\"\n              name=\"deposit\"\n              placeholder=\"Put in deposit amount you will put up\"\n              value={state.deposit}\n              onChange={handleChange}\n              style={{\n                width: '100%',\n                letterSpacing: '.2rem',\n                height: '2rem',\n                border: 'none',\n                borderBottom: '1px solid grey',\n              }}\n            />\n          </label>\n        </div>\n        <div>\n          <label>\n            Due Diligence\n            <input\n              type=\"number\"\n              name=\"dueDiligence\"\n              placeholder=\"Number of due diligence days\"\n              value={state.dueDiligence}\n              onChange={handleChange}\n              style={{\n                width: '100%',\n                letterSpacing: '.2rem',\n                height: '2rem',\n                border: 'none',\n                borderBottom: '1px solid grey',\n              }}\n            />\n          </label>\n        </div>\n        <div>\n          <label>Closing Date</label>\n          <input\n            type=\"date\"\n            name=\"closingDate\"\n            value={state.closingDate}\n            onChange={handleChange}\n            style={{\n              width: '100%',\n              letterSpacing: '.3rem',\n              height: '2rem',\n              border: 'none',\n              borderBottom: '1px solid grey',\n            }}\n          />\n        </div>\n        <button>Place my bid!</button>\n      </form>\n    </div>\n  );\n};\n\nexport default MakeABid;\n"]},"metadata":{},"sourceType":"module"}