{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/joohoonkim/Documents/CW/auxion/client/src/components/makeABid.component.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nconst REACT_APP_SERVER_URL = process.env.REACT_APP_SERVER_URL;\n\nconst MakeABid = props => {\n  _s();\n\n  // console.table('PROPS.LOCATION: ', props.location);\n  const [bid] = props.location.state;\n  const initialState = {\n    purchasePrice: (bid === null || bid === void 0 ? void 0 : bid.purchasePrice) || 0,\n    //because bid can be undefined, I need to use optional(or conditional) chaining.\n    deposit: (bid === null || bid === void 0 ? void 0 : bid.deposit) || 0,\n    dueDiligence: (bid === null || bid === void 0 ? void 0 : bid.dueDiligence) || 0,\n    closingDate: new Date((bid === null || bid === void 0 ? void 0 : bid.closingDate) || Date.now()).toJSON().slice(0, 10)\n  };\n  const [state, setState] = useState(initialState); // const history = useHistory();\n\n  const {\n    history\n  } = props;\n\n  const handleChange = evt => {\n    const {\n      name,\n      value\n    } = evt.target;\n    setState(curState => ({ ...curState,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = async evt => {\n    evt.preventDefault();\n    const {\n      id\n    } = props.match.params; // const res = await axios.post(`${REACT_APP_SERVER_URL}/register`, user);\n\n    const res = await fetch(`${REACT_APP_SERVER_URL}/properties/${id}/bid`, {\n      method: 'PUT',\n      // credentials: 'include',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('accessToken')\n      },\n      body: JSON.stringify(state)\n    });\n    setState(initialState);\n\n    if (!res.ok) {\n      const message = await res.text();\n      alert(message);\n    } else {\n      const parsedAuction = await res.json();\n      console.log(parsedAuction);\n      history.push(`/properties/${id}`);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Make a bid\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Purchase Price\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"purchasePrice\",\n            placeholder: \"Put in your purchase price\",\n            value: state.purchasePrice,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Deposit\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"deposit\",\n            placeholder: \"Put in deposit amount you will put up\",\n            value: state.deposit,\n            onChange: handleChange,\n            style: {\n              width: '100%',\n              letterSpacing: '.2rem',\n              height: '2rem',\n              border: 'none',\n              borderBottom: '1px solid grey'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Due Diligence\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            name: \"dueDiligence\",\n            placeholder: \"Number of due diligence days\",\n            value: state.dueDiligence,\n            onChange: handleChange,\n            style: {\n              width: '100%',\n              letterSpacing: '.2rem',\n              height: '2rem',\n              border: 'none',\n              borderBottom: '1px solid grey'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Closing Date\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"closingDate\",\n          value: state.closingDate,\n          onChange: handleChange,\n          style: {\n            width: '100%',\n            letterSpacing: '.3rem',\n            height: '2rem',\n            border: 'none',\n            borderBottom: '1px solid grey'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Place my bid!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MakeABid, \"2/eSVXfk2V5ZKttKXeUPXMa6Sd8=\");\n\n_c = MakeABid;\nexport default MakeABid;\n\nvar _c;\n\n$RefreshReg$(_c, \"MakeABid\");","map":{"version":3,"sources":["/Users/joohoonkim/Documents/CW/auxion/client/src/components/makeABid.component.jsx"],"names":["React","useState","REACT_APP_SERVER_URL","process","env","MakeABid","props","bid","location","state","initialState","purchasePrice","deposit","dueDiligence","closingDate","Date","now","toJSON","slice","setState","history","handleChange","evt","name","value","target","curState","handleSubmit","preventDefault","id","match","params","res","fetch","method","mode","headers","Authorization","localStorage","getItem","body","JSON","stringify","ok","message","text","alert","parsedAuction","json","console","log","push","width","letterSpacing","height","border","borderBottom"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\n\nconst REACT_APP_SERVER_URL = process.env.REACT_APP_SERVER_URL;\n\nconst MakeABid = (props) => {\n  // console.table('PROPS.LOCATION: ', props.location);\n  const [bid] = props.location.state;\n  const initialState = {\n    purchasePrice: bid?.purchasePrice || 0, //because bid can be undefined, I need to use optional(or conditional) chaining.\n    deposit: bid?.deposit || 0,\n    dueDiligence: bid?.dueDiligence || 0,\n    closingDate: new Date(bid?.closingDate || Date.now()).toJSON().slice(0, 10),\n  };\n  const [state, setState] = useState(initialState);\n  // const history = useHistory();\n  const { history } = props;\n\n  const handleChange = (evt) => {\n    const { name, value } = evt.target;\n    setState((curState) => ({ ...curState, [name]: value }));\n  };\n\n  const handleSubmit = async (evt) => {\n    evt.preventDefault();\n\n    const { id } = props.match.params;\n    // const res = await axios.post(`${REACT_APP_SERVER_URL}/register`, user);\n    const res = await fetch(`${REACT_APP_SERVER_URL}/properties/${id}/bid`, {\n      method: 'PUT',\n      // credentials: 'include',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: localStorage.getItem('accessToken'),\n      },\n      body: JSON.stringify(state),\n    });\n\n    setState(initialState);\n    if (!res.ok) {\n      const message = await res.text();\n      alert(message);\n    } else {\n      const parsedAuction = await res.json();\n      console.log(parsedAuction);\n      history.push(`/properties/${id}`);\n    }\n  };\n\n  return (\n    <div>\n      <h2>Make a bid</h2>\n      <form className=\"form\" onSubmit={handleSubmit}>\n        <div>\n          <label>\n            Purchase Price\n            <input\n              type=\"number\"\n              name=\"purchasePrice\"\n              placeholder=\"Put in your purchase price\"\n              value={state.purchasePrice}\n              onChange={handleChange}\n            />\n          </label>\n        </div>\n        <div>\n          <label>\n            Deposit\n            <input\n              type=\"number\"\n              name=\"deposit\"\n              placeholder=\"Put in deposit amount you will put up\"\n              value={state.deposit}\n              onChange={handleChange}\n              style={{\n                width: '100%',\n                letterSpacing: '.2rem',\n                height: '2rem',\n                border: 'none',\n                borderBottom: '1px solid grey',\n              }}\n            />\n          </label>\n        </div>\n        <div>\n          <label>\n            Due Diligence\n            <input\n              type=\"number\"\n              name=\"dueDiligence\"\n              placeholder=\"Number of due diligence days\"\n              value={state.dueDiligence}\n              onChange={handleChange}\n              style={{\n                width: '100%',\n                letterSpacing: '.2rem',\n                height: '2rem',\n                border: 'none',\n                borderBottom: '1px solid grey',\n              }}\n            />\n          </label>\n        </div>\n        <div>\n          <label>Closing Date</label>\n          <input\n            type=\"date\"\n            name=\"closingDate\"\n            value={state.closingDate}\n            onChange={handleChange}\n            style={{\n              width: '100%',\n              letterSpacing: '.3rem',\n              height: '2rem',\n              border: 'none',\n              borderBottom: '1px solid grey',\n            }}\n          />\n        </div>\n        <button>Place my bid!</button>\n      </form>\n    </div>\n  );\n};\n\nexport default MakeABid;\n"]},"metadata":{},"sourceType":"module"}